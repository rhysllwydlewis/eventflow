<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Search Bar Test - EventFlow</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/eventflow-17.0.0.css">
    <link rel="stylesheet" href="/assets/css/ui-ux-fixes.css">
    <link rel="stylesheet" href="/assets/css/components.css">
    <style>
        /* Test page specific styles */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        .test-header {
            background: linear-gradient(135deg, #0B8073, #13b6a2);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .test-section {
            padding: 40px 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .test-section:nth-child(even) {
            background: #f9fafb;
        }
        
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px;
        }
        
        .instructions h3 {
            margin-top: 0;
            color: #856404;
        }
        
        .viewport-label {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(11, 128, 115, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            z-index: 1000;
        }
        
        .demo-box {
            background: white;
            border: 2px solid #E7EAF0;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="viewport-label" id="viewport-indicator">Viewport: <span id="viewport-width">...</span>px</div>

    <div class="instructions">
        <h3>üîç Hero Search Bar Layout Test</h3>
        <p><strong>Testing Instructions:</strong></p>
        <ul>
            <li>‚úÖ Test at <strong>320px</strong> width (smallest mobile)</li>
            <li>‚úÖ Test at <strong>375px</strong> width (iPhone SE)</li>
            <li>‚úÖ Test at <strong>423px</strong> width (critical overlap point - MAIN TEST)</li>
            <li>‚úÖ Test at <strong>480px</strong> width (larger mobile)</li>
            <li>‚úÖ Test at <strong>768px</strong> width (tablet)</li>
            <li>‚úÖ <strong>The green search button must NEVER overlap the input field</strong></li>
            <li>‚úÖ Input should have adequate padding on the right for the button</li>
            <li>‚úÖ Button should be fully clickable and not cover input text</li>
        </ul>
        <p><strong>How to Test:</strong> Open DevTools (F12), enable Device Toolbar (Ctrl+Shift+M), manually set width to each test size.</p>
    </div>

    <main>
        <div class="test-header">
            <h1>üî¨ Hero Search Bar Responsive Test</h1>
            <p>Testing the fix for search button overlap at ~423px viewport width</p>
        </div>

        <div class="test-section">
            <h2>Test 1: Basic Search Bar</h2>
            <p>This is the hero search bar as it appears on the homepage:</p>
            
            <div class="demo-box">
                <div class="hero-search">
                    <form id="hero-search-form" class="hero-search-form">
                        <input 
                            type="text" 
                            id="hero-search-input" 
                            class="hero-search-input"
                            placeholder="Search for suppliers, packages, or venues..." 
                            autocomplete="off"
                            aria-label="Search suppliers and packages"
                        >
                        <button 
                            type="submit" 
                            class="hero-search-button"
                            aria-label="Search"
                        >
                            üîç
                        </button>
                        <div id="hero-search-results" class="hero-search-results">
                            <!-- Autocomplete results would go here -->
                        </div>
                    </form>
                </div>
            </div>

            <p><strong>Visual Check:</strong></p>
            <ul>
                <li>At <strong>320px</strong>: Button should be compact, no overlap</li>
                <li>At <strong>375px</strong>: Button should fit comfortably, no overlap</li>
                <li>At <strong>423px</strong>: Button should NOT overlap input (CRITICAL FIX)</li>
                <li>At <strong>480px</strong>: Button should be properly sized, no overlap</li>
                <li>At <strong>768px+</strong>: Desktop sizing, generous padding</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>Test 2: With Text Input</h2>
            <p>Try typing in the search bar to ensure the text is never hidden by the button:</p>
            
            <div class="demo-box">
                <div class="hero-search">
                    <form class="hero-search-form">
                        <input 
                            type="text" 
                            class="hero-search-input"
                            placeholder="Type something long here to test..." 
                            value="Wedding venues in London with capacity for 150 guests"
                            autocomplete="off"
                        >
                        <button 
                            type="submit" 
                            class="hero-search-button"
                            aria-label="Search"
                        >
                            üîç
                        </button>
                    </form>
                </div>
            </div>

            <p><strong>Text Visibility Check:</strong> The text should never be hidden behind the green button, even with a very long search query.</p>
        </div>

        <div class="test-section">
            <h2>Test 3: Focus State</h2>
            <p>Click into the search bar to test focus state:</p>
            
            <div class="demo-box">
                <div class="hero-search">
                    <form class="hero-search-form">
                        <input 
                            type="text" 
                            class="hero-search-input"
                            placeholder="Click me to test focus state..." 
                            autocomplete="off"
                        >
                        <button 
                            type="submit" 
                            class="hero-search-button"
                            aria-label="Search"
                        >
                            üîç
                        </button>
                    </form>
                </div>
            </div>

            <p><strong>Focus Check:</strong> When focused, the search bar should have a teal border and the button should remain properly positioned.</p>
        </div>

        <div class="test-section">
            <h2>Test 4: Dark Mode</h2>
            <p>Toggle dark mode to test appearance:</p>
            <button onclick="document.documentElement.setAttribute('data-theme', document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark')" style="padding: 10px 20px; background: #0B8073; color: white; border: none; border-radius: 8px; cursor: pointer;">
                Toggle Dark Mode
            </button>
            
            <div class="demo-box" style="margin-top: 20px;">
                <div class="hero-search">
                    <form class="hero-search-form">
                        <input 
                            type="text" 
                            class="hero-search-input"
                            placeholder="Dark mode test..." 
                            autocomplete="off"
                        >
                        <button 
                            type="submit" 
                            class="hero-search-button"
                            aria-label="Search"
                        >
                            üîç
                        </button>
                    </form>
                </div>
            </div>

            <p><strong>Dark Mode Check:</strong> Input should have dark background, button should remain visible and properly positioned.</p>
        </div>

        <div class="test-section">
            <h2>Test Results Summary</h2>
            <p>‚úÖ <strong>Pass Criteria:</strong></p>
            <ul>
                <li>Search button never overlaps input field at any width</li>
                <li>Input text remains fully visible when typing</li>
                <li>Button is fully clickable and responsive</li>
                <li>Focus states work correctly</li>
                <li>Dark mode displays properly</li>
                <li>Layout is consistent from 320px to desktop widths</li>
            </ul>
        </div>
    </main>

    <footer style="padding: 40px 20px; text-align: center; background: #f9fafb;">
        <p><strong>EventFlow Hero Search Test Page</strong></p>
        <p><small>Testing the fix for PR #230 search button overlap issue at ~423px</small></p>
    </footer>

    <script>
        // Display current viewport width
        function updateViewportIndicator() {
            const width = window.innerWidth;
            document.getElementById('viewport-width').textContent = width;
        }
        
        updateViewportIndicator();
        window.addEventListener('resize', updateViewportIndicator);
        
        // Prevent form submission for demo
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Search submitted! (Form submission prevented for demo)');
            });
        });
    </script>
</body>
</html>
