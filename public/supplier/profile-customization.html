<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Profile Customization ‚Äî EventFlow</title>
    <meta name="description" content="Customize your supplier profile with banners, taglines, highlights and social media links" />
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/assets/css/styles.css?v=18.0.0" />
    <link rel="stylesheet" href="/assets/css/components.css?v=18.0.0" />
    <link rel="stylesheet" href="/assets/css/mobile-optimizations.css?v=18.0.0" />
    <link rel="stylesheet" href="/assets/css/ui-ux-fixes.css?v=18.0.0" />
    <link rel="stylesheet" href="/assets/css/navbar.css?v=18.0.0" />
    <link rel="stylesheet" href="/assets/css/liquid-glass.css?v=18.1.0" />
    <link rel="stylesheet" href="/assets/css/supplier-dashboard-improvements.css?v=18.1.0" />
    <script src="/assets/js/dashboard-guard.js?v=17.0.2"></script>
  </head>
  <body>
    
    <!-- TOP NAVBAR -->
    <header class="ef-header" role="banner">
      <div class="ef-container">
        <div class="ef-header-content">
          <!-- Brand Logo -->
          <a href="/" class="ef-brand" aria-label="EventFlow - Return to homepage">
            <div class="ef-logo" aria-hidden="true">
              <div class="ef-logo-inner"></div>
            </div>
            <span class="ef-brand-text">EventFlow</span>
          </a>

          <!-- Desktop Navigation -->
          <nav class="ef-nav-desktop" aria-label="Main navigation">
            <a href="/start" class="ef-nav-link">Plan</a>
            <a href="/suppliers" class="ef-nav-link">Suppliers</a>
            <a href="/pricing" class="ef-nav-link">Pricing</a>
            <a href="/blog" class="ef-nav-link">Blog</a>
          </nav>

          <!-- Actions -->
          <div class="ef-header-actions">
            <!-- Notification Bell -->
            <button 
              id="ef-notification-btn" 
              class="ef-icon-btn" 
              type="button" 
              aria-label="View notifications"
              style="display: none;"
            >
              <svg class="ef-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
              </svg>
              <span id="ef-notification-badge" class="ef-badge" style="display: none;">0</span>
            </button>

            <!-- Auth Button (Desktop) -->
            <a href="/auth" id="ef-auth-link" class="ef-btn ef-btn-primary">
              Log in
            </a>

            <!-- Dashboard Link (Desktop) -->
            <a href="#" id="ef-dashboard-link" class="ef-nav-link" style="display: none;">
              Dashboard
            </a>

            <!-- Mobile Menu Toggle -->
            <button 
              id="ef-mobile-toggle" 
              class="ef-mobile-toggle" 
              type="button"
              aria-label="Toggle menu"
              aria-expanded="false"
              aria-controls="ef-mobile-menu"
            >
              <span class="ef-toggle-line"></span>
              <span class="ef-toggle-line"></span>
              <span class="ef-toggle-line"></span>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div id="ef-mobile-menu" class="ef-mobile-menu" role="dialog" aria-modal="true" aria-label="Mobile navigation">
        <nav class="ef-mobile-nav" aria-label="Primary navigation">
          <a href="/start" class="ef-mobile-link">Plan an Event</a>
          <a href="/suppliers" class="ef-mobile-link">Browse Suppliers</a>
          <a href="/pricing" class="ef-mobile-link">Pricing</a>
          <a href="/blog" class="ef-mobile-link">Blog & Guides</a>
          <a href="/for-suppliers" class="ef-mobile-link">For Suppliers</a>
          <a href="/faq" class="ef-mobile-link">FAQ</a>
          <div class="ef-mobile-divider"></div>
          <a href="/auth" id="ef-mobile-auth" class="ef-mobile-link ef-mobile-primary">Log in</a>
          <a href="#" id="ef-mobile-dashboard" class="ef-mobile-link" style="display: none;">Dashboard</a>
          <a href="#" id="ef-mobile-logout" class="ef-mobile-link" style="display: none;">Log out</a>
        </nav>
      </div>
    </header>

    <!-- Notification Dropdown (Pre-rendered, shown/hidden by JS) -->
    <div id="notification-dropdown" class="notification-dropdown" style="display: none;">
      <div class="notification-header">
        <h3>Notifications</h3>
        <button class="notification-mark-all" id="notification-mark-all-read">
          Mark all as read
        </button>
      </div>
      <div class="notification-list"></div>
      <div class="notification-footer">
        <a href="/notifications" class="notification-view-all">View all</a>
      </div>
    </div>


    <!-- Load auth state manager -->
    <script src="/assets/js/utils/auth-state.js" defer></script>
    <script src="/assets/js/burger-menu.js" defer></script>
    <script src="/assets/js/navbar.js" defer></script>

    <!-- Main Content -->
    <main id="main-content" class="section">
      <div class="container">
        <!-- Breadcrumb Navigation -->
        <div class="supplier-breadcrumb">
          <a href="/dashboard-supplier.html" class="supplier-breadcrumb-link">
            ‚Üê Back to Dashboard
          </a>
        </div>

        <!-- Header -->
        <div class="card supplier-page-header">
          <h1 class="supplier-page-title">‚ú® Profile Customization</h1>
          <p class="supplier-page-subtitle">
            Make your profile stand out with custom branding, highlights, and personalization
          </p>
        </div>

        <!-- Profile Selection -->
        <div class="card supplier-section-card">
          <h2 class="supplier-section-title">Select Profile to Customize</h2>
          <div id="profile-selector-container">
            <div class="skeleton skeleton-text skeleton-text-long"></div>
          </div>
        </div>

        <!-- Customization Form -->
        <div class="card">
          <form id="customization-form" action="#">
            <input type="hidden" id="sup-id" name="id">

            <!-- Banner Image Section -->
            <div class="form-row">
              <label>Banner Image <span class="label-optional">(optional)</span></label>
              <div id="sup-banner-drop" class="photo-drop-zone">
                Drag &amp; drop a banner image here, or click to choose a file.
              </div>
              <div style="margin-top: 12px; display: flex; gap: 8px; align-items: center;">
                <button type="button" id="select-stock-photo-btn" class="cta secondary" style="flex: 0 0 auto;">
                  üñºÔ∏è Select Stock Photo
                </button>
                <span class="form-hint" style="margin: 0; flex: 1;">
                  Or choose a professional photo from our stock library
                </span>
              </div>
              <div id="sup-banner-preview" class="photo-preview-grid"></div>
              <input type="hidden" id="sup-banner" name="bannerUrl">
              <p class="form-hint">Add a custom banner image to make your profile stand out (recommended: 1200x400px)</p>
            </div>

            <!-- Tagline -->
            <div class="form-row">
              <label>Tagline <span class="label-optional">(optional)</span></label>
              <input id="sup-tagline" name="tagline" placeholder="e.g. Creating magical moments for over 10 years" maxlength="100">
              <p class="form-hint">A catchy tagline that describes your business (max 100 characters)</p>
            </div>

            <!-- Key Highlights -->
            <div class="form-row">
              <label>Key Highlights <span class="label-optional">(optional)</span></label>
              <div id="highlights-container" class="highlights-stack">
                <input id="sup-highlight-1" class="highlight-input" placeholder="e.g. Award-winning service" maxlength="60">
                <input id="sup-highlight-2" class="highlight-input" placeholder="e.g. Fully licensed and insured" maxlength="60">
                <input id="sup-highlight-3" class="highlight-input" placeholder="e.g. 5-star reviews" maxlength="60">
                <input id="sup-highlight-4" class="highlight-input" placeholder="e.g. 10+ years experience" maxlength="60">
                <input id="sup-highlight-5" class="highlight-input" placeholder="e.g. Professional equipment" maxlength="60">
              </div>
              <p class="form-hint">Add up to 5 key highlights about your business</p>
            </div>

            <!-- Featured Services -->
            <div class="form-row">
              <label>Featured Services <span class="label-optional">(optional)</span></label>
              <textarea id="sup-featured-services" name="featuredServices" rows="5" placeholder="Enter each service on a new line&#10;e.g.:&#10;Wedding Photography&#10;Engagement Shoots&#10;Photo Albums"></textarea>
              <p class="form-hint">List your main services, one per line (max 10)</p>
            </div>

            <!-- Brand Theme Color -->
            <div class="form-row">
              <label class="form-label">
                Brand Theme Color 
                <span class="label-optional">(optional)</span>
              </label>
              
              <!-- Color Presets -->
              <div class="color-presets">
                <button type="button" class="color-preset active" data-color="#0B8073" style="background-color: #0B8073;" aria-label="Teal" title="Teal"></button>
                <button type="button" class="color-preset" data-color="#3B82F6" style="background-color: #3B82F6;" aria-label="Blue" title="Blue"></button>
                <button type="button" class="color-preset" data-color="#8B5CF6" style="background-color: #8B5CF6;" aria-label="Purple" title="Purple"></button>
                <button type="button" class="color-preset" data-color="#F59E0B" style="background-color: #F59E0B;" aria-label="Amber" title="Amber"></button>
                <button type="button" class="color-preset" data-color="#EF4444" style="background-color: #EF4444;" aria-label="Red" title="Red"></button>
                <button type="button" class="color-preset" data-color="#10B981" style="background-color: #10B981;" aria-label="Emerald" title="Emerald"></button>
                <button type="button" class="color-preset" data-color="#EC4899" style="background-color: #EC4899;" aria-label="Pink" title="Pink"></button>
                <button type="button" class="color-preset" data-color="#1F2937" style="background-color: #1F2937;" aria-label="Dark" title="Dark"></button>
              </div>
              
              <div class="color-picker-group">
                <input type="color" id="sup-theme-color" name="themeColor" value="#0B8073" class="color-picker-input">
                <input type="text" id="sup-theme-color-hex" placeholder="#0B8073" maxlength="7" class="color-hex-input">
                <button type="button" id="reset-theme-color" class="cta secondary">Reset to Default</button>
              </div>
              
              <!-- Live Preview -->
              <div class="color-preview-card">
                <div class="color-preview-header" id="color-preview-header" style="background-color: #0B8073;">
                  <h4>Preview Header</h4>
                </div>
                <div class="color-preview-body">
                  <p class="small">This is how your brand color will appear on your profile.</p>
                  <button type="button" class="color-preview-button" id="color-preview-button" style="background-color: #0B8073;">Sample Button</button>
                </div>
              </div>
              
              <p class="form-hint">Choose a color that matches your brand</p>
            </div>

            <!-- Social Media Links -->
            <div class="form-row">
              <label>Social Media Links <span class="label-optional">(optional)</span></label>
              <div class="social-links-grid">
                <div>
                  <label class="social-label">üìò Facebook</label>
                  <input id="sup-social-facebook" class="social-input" placeholder="https://facebook.com/yourpage">
                </div>
                <div>
                  <label class="social-label">üì∑ Instagram</label>
                  <input id="sup-social-instagram" class="social-input" placeholder="https://instagram.com/yourpage">
                </div>
                <div>
                  <label class="social-label">üê¶ Twitter</label>
                  <input id="sup-social-twitter" class="social-input" placeholder="https://twitter.com/yourpage">
                </div>
                <div>
                  <label class="social-label">üíº LinkedIn</label>
                  <input id="sup-social-linkedin" class="social-input" placeholder="https://linkedin.com/company/yourpage">
                </div>
                <div>
                  <label class="social-label">‚ñ∂Ô∏è YouTube</label>
                  <input id="sup-social-youtube" class="social-input" placeholder="https://youtube.com/@yourpage">
                </div>
                <div>
                  <label class="social-label">üéµ TikTok</label>
                  <input id="sup-social-tiktok" class="social-input" placeholder="https://tiktok.com/@yourpage">
                </div>
              </div>
              <p class="form-hint">Add links to your social media profiles to help customers connect with you</p>
            </div>

            <!-- Form Actions -->
            <div class="supplier-form-actions">
              <button class="cta" type="submit">üíæ Save Customization</button>
              <button type="button" id="sup-preview" class="cta secondary">üëÅÔ∏è Preview Profile</button>
              <a href="/dashboard-supplier.html" class="cta secondary">Cancel</a>
              <span class="small" id="sup-status"></span>
            </div>
          </form>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
      <div class="container supplier-footer-content">
        <div><strong>EventFlow</strong><br><span class="small">Event planning made simple.</span></div>
        <div class="version">Version: <span id="ef-version-label">loading‚Ä¶</span></div>
        <div class="small">
          <a href="/blog">Blog</a> ¬∑
          <a href="/credits.html">Credits</a> ¬∑ 
          <a href="/contact">Contact</a> ¬∑ 
          <a href="/legal.html">Legal Hub</a>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="/assets/js/app.js?v=18.0.0"></script>
    <script src="/assets/js/components.js?v=18.0.0"></script>
    <script src="/assets/js/components/pexels-selector.js"></script>
    <script src="js/profile-customization.js"></script>
    <script>window.__EF_PAGE__ = 'profile_customization';</script>

    <!-- Theme color sync script -->
    <script>
      (function() {
        'use strict';
        
        const colorPicker = document.getElementById('sup-theme-color');
        const colorHex = document.getElementById('sup-theme-color-hex');
        const resetBtn = document.getElementById('reset-theme-color');
        const previewHeader = document.getElementById('color-preview-header');
        const previewButton = document.getElementById('color-preview-button');
        const presets = document.querySelectorAll('.color-preset');
        
        const defaultColor = '#0B8073';

        function updateAllElements(color) {
          if (colorPicker) colorPicker.value = color;
          if (colorHex) colorHex.value = color;
          if (previewHeader) previewHeader.style.backgroundColor = color;
          if (previewButton) previewButton.style.backgroundColor = color;
          
          // Update preset active state
          presets.forEach(preset => {
            preset.classList.toggle('active', preset.dataset.color.toLowerCase() === color.toLowerCase());
          });
        }

        if (colorPicker && colorHex && resetBtn) {
          // Color picker input
          colorPicker.addEventListener('input', function() {
            updateAllElements(this.value);
          });

          // Hex input
          colorHex.addEventListener('input', function() {
            const hex = this.value.trim();
            if (/^#[0-9A-F]{6}$/i.test(hex)) {
              updateAllElements(hex);
            }
          });

          // Reset button
          resetBtn.addEventListener('click', function() {
            updateAllElements(defaultColor);
          });
          
          // Color presets
          presets.forEach(preset => {
            preset.addEventListener('click', function() {
              const color = this.dataset.color;
              updateAllElements(color);
            });
          });
        }
      })();
    </script>

    <script src="/assets/js/cookie-consent.js" defer></script>
  </body>
</html>
