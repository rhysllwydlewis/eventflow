<!DOCTYPE html>
<html>
<head>
    <title>Navbar Test</title>
    <link rel="stylesheet" href="/assets/css/navbar.css" />
    <style>
        /* Include navbar-enhanced.css styles inline for testing */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 900;
            background: rgba(255, 255, 255, 0.96);
            border-top: 1px solid rgba(15, 23, 42, 0.08);
            box-shadow: 0 -2px 12px rgba(15, 23, 42, 0.08);
            padding: 8px 0;
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
        }
        
        body.has-footer-nav {
            padding-bottom: 72px;
        }
        
        .footer-nav-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 16px;
            width: 100%;
        }
        
        .footer-nav-links {
            display: flex;
            align-items: center;
            justify-content: space-around;
            gap: 8px;
        }
        
        .footer-nav-link {
            padding: 8px 16px;
            border-radius: 12px;
            color: #6b7280;
            font-size: 12px;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
        }
        
        .nav-menu {
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            z-index: 999;
            background: rgba(255, 255, 255, 0.96);
            max-height: calc(100vh - 60px);
            overflow-y: auto;
            transform: scaleY(0);
            transform-origin: top center;
            transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .nav-menu.nav-menu--open {
            transform: scaleY(1);
        }
        
        .header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: white;
            padding: 16px;
            border-bottom: 1px solid #ddd;
        }
        
        #burger {
            padding: 8px;
            background: #0B8073;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .nav-menu a {
            display: block;
            padding: 12px 16px;
            text-decoration: none;
            color: #333;
        }
        
        body.nav-open {
            overflow: hidden;
        }
    </style>
</head>
<body class="has-footer-nav">
    <!-- TOP NAVBAR - GOLD STANDARD REBUILD -->
<header class="ef-header" role="banner">
  <div class="ef-container">
    <div class="ef-header-content">
      <!-- Brand Logo - Enhanced Animated -->
      <a href="/" class="ef-brand" aria-label="EventFlow - Return to homepage">
        <div class="ef-logo" aria-hidden="true">
          <div class="ef-logo-inner"></div>
        </div>
        <span class="ef-brand-text">EventFlow</span>
      </a>

      <!-- Desktop Navigation -->
      <nav class="ef-nav-desktop" aria-label="Main navigation">
        <a href="/start.html" class="ef-nav-link">Plan</a>
        <a href="/suppliers.html" class="ef-nav-link">Suppliers</a>
        <a href="/pricing.html" class="ef-nav-link">Pricing</a>
        <a href="/blog.html" class="ef-nav-link">Blog</a>
      </nav>

      <!-- Actions -->
      <div class="ef-header-actions">
        <!-- Notification Bell (hidden by default, shown when logged in) -->
        <button 
          id="ef-notification-btn" 
          class="ef-icon-btn" 
          type="button" 
          aria-label="View notifications"
          style="display: none;"
        >
          <svg class="ef-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
          </svg>
          <span id="ef-notification-badge" class="ef-badge" style="display: none;">0</span>
        </button>

        <!-- Auth Button (Desktop) -->
        <a href="/auth.html" id="ef-auth-link" class="ef-btn ef-btn-primary">
          Log in
        </a>

        <!-- Dashboard Link (Desktop, hidden by default) -->
        <a href="#" id="ef-dashboard-link" class="ef-nav-link" style="display: none;">
          Dashboard
        </a>

        <!-- Mobile Menu Toggle -->
        <button 
          id="ef-mobile-toggle" 
          class="ef-mobile-toggle" 
          type="button"
          aria-label="Toggle menu"
          aria-expanded="false"
          aria-controls="ef-mobile-menu"
        >
          <span class="ef-toggle-line"></span>
          <span class="ef-toggle-line"></span>
          <span class="ef-toggle-line"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="ef-mobile-menu" class="ef-mobile-menu" role="dialog" aria-modal="true" aria-label="Mobile navigation">
    <nav class="ef-mobile-nav" aria-label="Primary navigation">
      <a href="/start.html" class="ef-mobile-link">Plan an Event</a>
      <a href="/suppliers.html" class="ef-mobile-link">Browse Suppliers</a>
      <a href="/pricing.html" class="ef-mobile-link">Pricing</a>
      <a href="/blog.html" class="ef-mobile-link">Blog & Guides</a>
      <a href="/for-suppliers.html" class="ef-mobile-link">For Suppliers</a>
      <a href="/faq.html" class="ef-mobile-link">FAQ</a>
      <div class="ef-mobile-divider"></div>
      <a href="/auth.html" id="ef-mobile-auth" class="ef-mobile-link ef-mobile-primary">Log in</a>
      <a href="#" id="ef-mobile-dashboard" class="ef-mobile-link" style="display: none;">Dashboard</a>
      <a href="#" id="ef-mobile-logout" class="ef-mobile-link" style="display: none;">Log out</a>
    </nav>
  </div>
</header>
    <script src="/assets/js/utils/auth-state.js" defer></script>
    <script src="/assets/js/burger-menu.js" defer></script>
    <script src="/assets/js/navbar.js" defer></script>


    
    <nav class="nav-menu" id="primary-nav-menu">
        <a href="#">Link 1</a>
        <a href="#">Link 2</a>
        <a href="#">Link 3</a>
    </nav>
    
    <main style="padding: 20px; min-height: 100vh;">
        <h1>Navbar Test Page</h1>
        <p>Testing footer nav visibility on all screen sizes and burger menu functionality.</p>
        <p>Resize window to test responsive behavior.</p>
        <div style="margin-top: 20px;">
            <p><strong>Window width:</strong> <span id="width"></span>px</p>
            <p><strong>Footer nav visible:</strong> <span id="footer-visible"></span></p>
            <p><strong>Menu open:</strong> <span id="menu-open"></span></p>
        </div>
    </main>
    
    <nav class="footer-nav footer-nav--mobile-only">
        <div class="footer-nav-content">
            <div class="footer-nav-links">
                <a href="#" class="footer-nav-link">Plan</a>
                <a href="#" class="footer-nav-link">Suppliers</a>
                <a href="#" class="footer-nav-link">Guides</a>
            </div>
        </div>
    </nav>
    
    <script>
        // Simplified burger menu code
        const burger = document.getElementById('burger');
        const navMenu = document.querySelector('.nav-menu');
        let isMenuOpen = false;
        
        burger.dataset.navInitialized = 'true';
        
        const toggleMenu = (event) => {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            isMenuOpen = !isMenuOpen;
            
            burger.setAttribute('aria-expanded', String(isMenuOpen));
            document.body.classList.toggle('nav-open', isMenuOpen);
            navMenu.classList.toggle('nav-menu--open', isMenuOpen);
            document.body.style.overflow = isMenuOpen ? 'hidden' : '';
            
            console.log('Menu toggled:', isMenuOpen);
            updateStatus();
        };
        
        burger.addEventListener('click', toggleMenu);
        
        // Close on ESC
        document.addEventListener('keydown', event => {
            if (event.key === 'Escape' && isMenuOpen) {
                toggleMenu();
            }
        });
        
        // Update status display
        function updateStatus() {
            document.getElementById('width').textContent = window.innerWidth;
            const footerNav = document.querySelector('.footer-nav');
            const styles = window.getComputedStyle(footerNav);
            document.getElementById('footer-visible').textContent = styles.display !== 'none' ? 'YES' : 'NO';
            document.getElementById('menu-open').textContent = isMenuOpen ? 'YES' : 'NO';
        }
        
        window.addEventListener('resize', updateStatus);
        updateStatus();
        
        console.log('Test page loaded. Click burger to test menu toggle.');
    </script>
</body>
</html>
