# EventFlow Environment Variables

# PRODUCTION DEPLOYMENT CHECKLIST
# ================================
# Before deploying to production:
# 1. Generate strong JWT_SECRET: openssl rand -base64 32
# 2. Set NODE_ENV=production
# 3. Set BASE_URL to your actual domain (https://event-flow.co.uk)
# 4. Configure cloud database (MongoDB Atlas OR Firebase)
# 5. Configure email service (AWS SES OR SMTP)
# 6. Set EMAIL_ENABLED=true
# 7. Verify FROM_EMAIL matches your verified domain
#
# IMPORTANT: Production deployment requires:
# - Cloud database (MONGODB_URI or FIREBASE_PROJECT_ID)
# - Email service (AWS SES or SMTP when EMAIL_ENABLED=true)
# - Valid BASE_URL (not localhost)
#
# The server will validate these on startup and exit if missing.

# ============================================
# REQUIRED: Security
# ============================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=your_super_long_random_secret

# Owner account password (for admin@event-flow.co.uk)
# This account is protected from deletion and has full admin privileges
# IMPORTANT: Set a strong password for production deployments
OWNER_PASSWORD=Admin123!

# ============================================
# Database Configuration
# ============================================
# PRODUCTION: Must use cloud database (MongoDB Atlas OR Firebase)
# DEVELOPMENT: Can use local storage for testing

# MongoDB Atlas (Cloud) - Production recommended
# Use the connection string provided for your project
# Example format: mongodb+srv://username:password@cluster.mongodb.net/?appName=YourCluster
# NOTE: In production, localhost URIs are rejected automatically
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?appName=YourCluster

# MongoDB Local - Development/Testing ONLY
# Example: mongodb://localhost:27017/eventflow
# NOTE: This is ignored in production (NODE_ENV=production)
MONGODB_LOCAL_URI=mongodb://localhost:27017/eventflow

# Database name (optional, defaults to 'eventflow')
MONGODB_DB_NAME=eventflow

# ============================================
# Server Configuration
# ============================================
PORT=3000
NODE_ENV=development

# Your website URL (required for verification emails)
# Local: http://localhost:3000
# Production: https://event-flow.co.uk
# NOTE: Using localhost in production will trigger a warning
BASE_URL=http://localhost:3000

# ============================================
# EMAIL CONFIGURATION (Required for verification emails)
# ============================================

# Enable/disable email sending
# In production, this defaults to 'true'
# In development, this defaults to 'false' (emails saved to /outbox folder)
EMAIL_ENABLED=true

# From address for outgoing emails
FROM_EMAIL=no-reply@eventflow.com

# --- Option 1: AWS SES (Recommended for production) ---
# AWS Simple Email Service - Professional email delivery
# Get started: https://aws.amazon.com/ses/
AWS_SES_REGION=eu-west-2
AWS_SES_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
# Override FROM_EMAIL if using custom MAIL FROM domain
# FROM_EMAIL=no-reply@event-flow.co.uk

# --- Option 2: SendGrid ---
# Get a free API key from https://sendgrid.com
# Then just set this ONE variable - everything else is automatic:
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# --- Option 3: Custom SMTP Server ---
# If not using AWS SES or SendGrid, configure these instead:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# ============================================
# OPTIONAL FEATURES
# ============================================

# Firebase Configuration (for cloud storage and real-time features)
# Get these from your Firebase project settings
FIREBASE_API_KEY=AIzaSyAbFoGEvaAQcAvjL716cPSs1KDMkriahqc
FIREBASE_AUTH_DOMAIN=eventflow-ffb12.firebaseapp.com
FIREBASE_PROJECT_ID=eventflow-ffb12
FIREBASE_STORAGE_BUCKET=eventflow-ffb12.firebasestorage.app
FIREBASE_MESSAGING_SENDER_ID=253829522456
FIREBASE_APP_ID=1:253829522456:web:3fae1bcec63932321bcf6d
FIREBASE_MEASUREMENT_ID=G-JRT11771YD

# Firebase Admin SDK (for backend access to Firestore)
# Option 1: Use Project ID only (works with Application Default Credentials)
# FIREBASE_PROJECT_ID=eventflow-ffb12

# Option 2: Use Service Account JSON (for production)
# Download from Firebase Console > Project Settings > Service Accounts
# FIREBASE_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"eventflow-ffb12",...}'

# Storage Configuration
# Set to 'local' for development, 's3' for AWS, or 'firebase' for Firebase Storage
STORAGE_TYPE=firebase
LOCAL_UPLOAD_PATH=./public/uploads

# AWS S3 (optional, for cloud photo storage in production)
# If not set, photos are stored locally
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# Stripe (optional, for Pro subscriptions)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_SUPPLIER_PRICE_ID=

# OpenAI (optional, for AI planning assistant)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-mini

# ============================================
# NOTES
# ============================================

# For Gmail SMTP:
# 1. Enable 2-factor authentication on your Google account
# 2. Generate an "App Password" at https://myaccount.google.com/apppasswords
# 3. Use that app password as SMTP_PASS

# For SendGrid:
# 1. Sign up at https://sendgrid.com (free tier includes 100 emails/day)
# 2. Create an API key with "Mail Send" permissions
# 3. Add it as SENDGRID_API_KEY above
# 4. Verify your sender email address in SendGrid dashboard

# Testing locally:
# - Set EMAIL_ENABLED=false to test without sending real emails
# - Verification links will be shown in the API response
# - Email files are saved to /outbox folder for inspection
